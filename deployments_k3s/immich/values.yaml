immich:
  persistence:
    external:
      storageClass: nfs-client
      size: 1Ti
    library:
      storageClass: nfs-client
      size: 1Ti
    machine-learning-cache:
      storageClass: nfs-client
      size: 10Gi

  postgresql:
    global:
      postgresql:
        auth:
          password: TODOCHANGEME
    primary:
      persistence:
        storageClass: nfs-client
  
  ingress:
    server:
      enabled: true
      hosts:
      - host: immich.cluster
        ## Configure the paths for the host
        paths:
          - path: /

  immich:
    configuration:
      enabled: true
      oauth:
        enabled: true
        issuerUrl: https://authentik.cluster/application/o/immich/.well-known/openid-configuration
        clientId: "TODOCHANGEME"
        clientSecret: "TODOCHANGEME"
        scope: "openid email profile"
        # Whether Immich should automatically create users after successful login
        autoRegister: true
        # Whether Immich should automatically redirect to Authentik login
        autoLaunch: true
        # Optional button text for UI
        buttonText: "Step into the Juniverse Image Galery"
        # Whether to use the Immich mobile redirect helper endpoint
        mobileRedirectUriOverride: false
        # You can explicitly define allowed redirect URIs if needed
        redirectUris:
          - "https://immich.cluster/auth/login"
          - "https://immich.cluster/user-settings"
          - "app.immich:///oauth-callback"
